<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Greatest Card Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <button class="dark-mode-toggle" id="darkModeToggle">ðŸŒ“</button>
        <h1>The Greatest Card Game</h1>
        <p>Search for cards and learn how to play</p>
    </header>
    
    <div class="container">
        <div class="search-section">
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for a card (e.g. Goomba, Earth...)" autocomplete="off">
                <div id="autocompleteResults"></div>
            </div>
            
            <div class="quick-info">
                <h3>Quick Game Info</h3>
                <ul>
                    <li><strong>Deck Size:</strong> 32 Cards</li>
                    <li><strong>Starting HP:</strong> 25 PHP</li>
                    <li><strong>Starting Hand:</strong> 5 Cards</li>
                    <li><strong>Cards Drawn/Turn:</strong> 2</li>
                </ul>
            </div>
        </div>
        
        <div class="rules-section">
            <h2>Game Rules</h2>
            
            <span class="rule-category">Game Setup</span>
            <ul class="rules-list">
                <li>Flip a coin to see who goes first</li>
                <li>Each player starts with 5 cards</li>
                <li>Playing deck is 32 cards with no duplicates</li>
            </ul>
            
            <span class="rule-category">Turn Structure</span>
            <ul class="rules-list">
                <li>Players draw 2 cards per turn</li>
                <li>Players gain 3 PT every turn (increases by 1 each turn, max 10 PT/turn)</li>
                <li>Players cannot attack on their first turn</li>
            </ul>
            
            <span class="rule-category">Gameplay</span>
            <ul class="rules-list">
                <li>Goal: Reduce opponent's PHP to 0</li>
                <li>Land is permanent</li>
                <li>If an object is both land and another card type, it can be played only as land</li>
                <li>Units cannot exceed one equipment (unless stated otherwise)</li>
                <li>You cannot damage the player if units are on board (unless stated otherwise)</li>
            </ul>
            
            <span class="rule-category">Special Rules</span>
            <ul class="rules-list">
                <li>If a number has a decimal, round up</li>
                <li>Making a noise is defined as a card requiring to say something</li>
                <li>No curse words (<a href="https://en.wiktionary.org/wiki/Category:English_swear_words" target="_blank">defined here</a>)</li>
                <li>No sexual comments (<a href="https://www.eeoc.gov/sexual-harassment" target="_blank">defined here</a>)</li>
            </ul>
        </div>
    </div>

    <script src="scripts/main.js"></script>
    <script>
        // Load database first
        fetch('database.json')
            .then(response => response.json())
            .then(data => {
                window.cardDatabase = data.cards;
                // Initialize search after database is loaded
                if (window.setupSearch) setupSearch();
            })
            .catch(error => {
                console.log("Using fallback data:", error);
                // Fallback data is in main.js
                if (window.setupSearch) setupSearch();
            });
    </script>
</body>
</html>
