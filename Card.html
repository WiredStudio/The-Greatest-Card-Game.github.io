<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Details - The Greatest Card Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="index.html" class="back-button">‚Üê Back to Search</a>
    
    <div class="card-container" id="cardDetails">
        <!-- Card details will be loaded here -->
    </div>

    <script src="scripts/main.js"></script>
    <script>
        // Get card ID from URL hash
        const cardId = window.location.hash.replace('#card-', '');
        
        // First check if database is already loaded
        if (window.cardDatabase) {
            const card = window.cardDatabase.find(c => c.id === cardId);
            if (card) {
                displayCardDetails(card);
            } else {
                showCardError();
            }
        } else {
            // Try to load database
            fetch('database.json')
                .then(response => response.json())
                .then(data => {
                    const card = data.cards.find(c => c.id === cardId);
                    if (card) {
                        displayCardDetails(card);
                    } else {
                        showCardError();
                    }
                })
                .catch(error => {
                    console.error("Error loading card:", error);
                    showCardError();
                });
        }
        
        function showCardError() {
            document.getElementById('cardDetails').innerHTML = `
                <h2>Card not found</h2>
                <p>The card could not be loaded. Return to <a href="index.html">home page</a></p>`;
        }
    </script>
</body>
</html>
